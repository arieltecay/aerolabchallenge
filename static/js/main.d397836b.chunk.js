(this.webpackJsonpaerolabchallenge=this.webpackJsonpaerolabchallenge||[]).push([[0],{35:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(15),a=n.n(r),i=n(4),o=(n(35),n(16)),j=n(6),d=n(9),l=n.n(d),u=n(13),b=(n(29),{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDRmN2U2ZDdlNzE4NzAwMjBlMzhmODUiLCJpYXQiOjE2MTU4MjI0NDV9.AhmuLoC63fGM7MqquxOttu4vSRjOfItMIKhpj8b2VqA"}),h="https://coding-challenge-api.aerolab.co/user/me",O="https://coding-challenge-api.aerolab.co/user/points",x="https://coding-challenge-api.aerolab.co/redeem";function p(){return(p=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h,{method:"GET",headers:b});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var m=function(){return p.apply(this,arguments)},v=n.p+"static/media/coin.b8bc711d.svg";n(37);function f(){return(f=Object(u.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O,{method:"POST",headers:b,body:JSON.stringify({amount:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var g=function(e){return f.apply(this,arguments)},N=(n(38),n(1)),y=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useContext)(B).setUserPoints,a=Object(c.useState)(!1),o=Object(i.a)(a,2),j=o[0],d=o[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"add-coins-buttons",children:[Object(N.jsx)("button",{onClick:function(){return g(1e3).then((function(e){return s(e.message),r(e["New Points"]),d(!0)})).then((function(){return d(!1)}))},className:"btn btn-primary btn-1000",id:"btn-coins",children:"1000"}),Object(N.jsx)("button",{onClick:function(){return g(5e3).then((function(e){return s(e.message),r(e["New Points"]),d(!0)})).then((function(){return d(!1)}))},className:"btn btn-primary ",id:"btn-coins",children:"5000"}),Object(N.jsx)("button",{onClick:function(){return g(7500).then((function(e){return s(e.message),r(e["New Points"]),d(!0)})).then((function(){return d(!1)}))},className:"btn btn-primary",id:"btn-coins",children:"7500"})]}),Object(N.jsx)("p",{style:{textAlign:"center",fontWeight:"bold",marginTop:15},children:!0===j?Object(N.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(N.jsx)("p",{className:"text-success",children:n})})]})},P=n(54),S=n(17),C=(n(40),function(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),n=t[0],s=t[1];return n?Object(N.jsx)(N.Fragment,{children:n&&Object(N.jsx)("div",{children:Object(N.jsxs)(P.a,{show:n,onHide:function(){return s(!1)},size:"sm","aria-labelledby":"contained-modal-title-vcenter",children:[Object(N.jsx)(S.a,{className:"modal-header",children:"Add More  Coins "}),Object(N.jsx)("div",{className:"add-more-coins-modal",children:Object(N.jsx)(y,{})})]})})}):null}),w=function(){var e=Object(c.useContext)(B),t=e.userName,n=e.userPoints,s=e.setUserName,r=e.setUserPoints,a=Object(c.useState)(!1),o=Object(i.a)(a,2),j=o[0],d=o[1],l=Object(c.useState)(!0),u=Object(i.a)(l,2),b=u[0],h=u[1];Object(c.useEffect)((function(){m().then((function(e){return s(e.name),r(e.points)}),h(!1))}),[]);return Object(N.jsx)("div",{children:b?Object(N.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(N.jsxs)("div",{className:"container-header",children:[Object(N.jsx)("div",{onClick:function(){d(!j)},style:{fontWeight:300,cursor:"pointer"},className:"add-more-coins-btn",children:"Add more coins"}),j&&Object(N.jsx)("div",{children:Object(N.jsx)(C,{})}),Object(N.jsx)("div",{className:"user-name",children:t}),Object(N.jsxs)("div",{className:"user-points",children:[Object(N.jsx)("img",{src:v,alt:"not Available"}),n]})]})})},k=n.p+"static/media/header-x1.b6f067c6.png",M=function(){return Object(N.jsx)("div",{children:Object(N.jsxs)("div",{children:[Object(N.jsx)("img",{src:k,width:"100%",alt:""}),Object(N.jsx)("h1",{className:"img-principal",children:"Electronics"})]})})},I=(n(44),n.p+"static/media/buy-blue.c5c4f01c.svg");function L(){return(L=Object(u.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(x,{method:"POST",headers:b,body:JSON.stringify({productId:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var U=function(e){return L.apply(this,arguments)},E=(n(45),function(e){var t=e.product,n=Object(c.useState)(!0),s=Object(i.a)(n,2),r=s[0],a=s[1],o=Object(c.useState)(""),j=Object(i.a)(o,2),d=j[0],l=j[1],u=Object(c.useState)(!1),b=Object(i.a)(u,2),h=b[0],O=b[1],x=Object(c.useState)(""),p=Object(i.a)(x,2),m=p[0],v=p[1],f=Object(c.useContext)(B),g=f.userPoints,y=f.setUserPoints,C=g-t.cost;return Object(N.jsx)("div",{children:r&&Object(N.jsxs)(P.a,{show:r,onHide:function(){return a(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",children:[Object(N.jsxs)("div",{className:"container-reclaim-modal-product",children:[Object(N.jsx)(S.a,{children:"Product Description"}),Object(N.jsx)("div",{children:t.id}),Object(N.jsx)("div",{children:t.name}),Object(N.jsx)("div",{children:t.category}),Object(N.jsxs)("div",{children:[t.cost," Coins"]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("img",{src:t.img,alt:""})," "]})]}),Object(N.jsx)("button",{className:"btn btn-warning mt-3",type:"button",onClick:function(){try{U(e.id).then((function(e){return l(e.message),O(!0),g<e.cost||y(C),v(e.error)})).then((function(){return O(!1)}))}catch(m){v(m)}},children:"Yes!"}),Object(N.jsx)("div",{children:1==h?Object(N.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(N.jsx)("p",{className:d?"text-success mt-3":"text-danger mt-3",children:d||m})})]})})}),A=function(e){var t=e.name,n=e.img,s=e.category,r=e.cost,a=e._id,o=Object(c.useContext)(B).userPoints,j=Object(c.useState)([]),d=Object(i.a)(j,2),l=d[0],u=d[1],b=Object(c.useState)(!1),h=Object(i.a)(b,2),O=h[0],x=h[1],p=Object(c.useState)(""),m=Object(i.a)(p,2),f=m[0],g=m[1],y={name:t,img:n,category:s,cost:r,_id:a};return Object(N.jsxs)("div",{className:"card-container",children:[r&&Object(N.jsx)("div",{className:"card-container-points",children:r>o?Object(N.jsxs)("div",{className:"card-points-up",children:[Object(N.jsxs)("div",{children:["You need: ",Math.abs(o-r)]}),Object(N.jsx)("img",{src:v,alt:"icon"})]}):Object(N.jsx)("div",{children:Object(N.jsx)("img",{src:I,alt:"icon"})})}),Object(N.jsx)("div",{className:"image-container",children:Object(N.jsx)("img",{src:n,alt:""})}),Object(N.jsx)("img",{src:"",alt:""}),Object(N.jsx)("div",{className:"card-category",children:s}),Object(N.jsx)("div",{className:"card-name",children:t}),r&&Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"card-points",children:[r," Points"]}),r>o?Object(N.jsx)("div",{className:"card-not-enough",children:"You Don't have enough points"}):Object(N.jsx)("div",{className:"card-button",onClick:function(){g(a),u(y),x(!O)},children:"Reclaims"})]}),O&&Object(N.jsx)(E,{product:l,id:f})]})},J=function(e,t){var n=Object(c.useState)(1),s=Object(i.a)(n,2),r=s[0],a=s[1],o=Math.ceil(e.length/t),j=e.slice((r-1)*t,r*t);return{next:function(){a(r+1)},prev:function(){a(r-1)},jump:function(e){a(e)},currentPage:r,maxPage:o,currentArray:j}},T=(n(46),function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!1),a=Object(i.a)(r,2),o=a[0],j=a[1],d=Object(c.useState)("recent"),h=Object(i.a)(d,2),O=h[0],x=h[1],p=Object(c.useContext)(B).setProductsList;Object(c.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,fetch("https://coding-challenge-api.aerolab.co/products",{method:"GET",headers:b});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,s(n),j(!1),p(n),m();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=function(){switch(O){case"lowPrice":return n.sort((function(e,t){return parseFloat(e.cost)-parseFloat(t.cost)})).map((function(e,t){return Object(N.jsx)(A,{data:e},t)}));case"highPrice":return n.sort((function(e,t){return parseFloat(t.cost)-parseFloat(e.cost)})).map((function(e,t){return Object(N.jsx)(A,{data:e},t)}));default:return n.sort((function(e,t){return e._id<t._id?-1:1})).map((function(e,t){return Object(N.jsx)(A,{data:e},t)}))}},v=J(m(),16),f=v.currentArray,g=v.next,y=v.prev,P=v.maxPage,S=v.currentPage;return Object(N.jsx)("div",{children:o?Object(N.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"pagination container-pagination",children:[Object(N.jsxs)("div",{className:"numeros-indice",children:[S," of ",P," Pages"]}),Object(N.jsxs)("div",{className:"sort-by",children:[Object(N.jsx)("div",{className:"",children:"Sort By:"}),Object(N.jsx)("div",{className:"button-order-price",onClick:function(){return x("lowPrice")},children:"Lowest Price"}),Object(N.jsx)("div",{className:"button-order-price",onClick:function(){return x("highPrice")},children:"Highest Price"})]}),Object(N.jsx)("button",{className:"btnPaginationLeft btn",onClick:function(){return y()},disabled:S<=1,children:"Next"}),Object(N.jsx)("button",{className:"btnPaginationRight btn",onClick:function(){return g()},disabled:S>=P,children:"Prev"})]}),Object(N.jsx)("div",{className:"container",children:f.map((function(e,t){return Object(N.jsx)("div",{children:Object(N.jsx)(A,{name:e.props.data.name,img:e.props.data.img.hdUrl,category:e.props.data.category,cost:e.props.data.cost,_id:e.props.data._id})},t)}))})]})})}),z=(n(47),function(){return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"container-header",children:[Object(N.jsx)(o.b,{to:"/history",className:"boton-header",children:"History"}),Object(N.jsx)(w,{})]}),Object(N.jsx)("div",{children:Object(N.jsx)(M,{})}),Object(N.jsx)("div",{children:Object(N.jsx)(T,{})})]})}),D=function(e){for(var t=e.postsPerPage,n=e.totalPosts,c=e.paginate,s=[],r=1;r<=Math.ceil(n/t);r++)s.push(r);return Object(N.jsx)("nav",{children:Object(N.jsx)("ul",{className:"pagination pagination-button",children:s.map((function(e){return Object(N.jsx)("li",{className:"page-item",children:Object(N.jsx)("a",{onClick:function(){return c(e)},className:"page-link",children:e})},e)}))})})},F=function(e){var t=e.loading,n=e.history,s=Object(c.useState)(1),r=Object(i.a)(s,2),a=r[0],o=r[1],j=Object(c.useState)(16),d=Object(i.a)(j,1)[0],l=a*d,u=l-d,b=n.slice(u,l);return Object(N.jsx)("div",{children:t?Object(N.jsx)("div",{children:Object(N.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"pagination",style:{cursor:"pointer"},children:Object(N.jsx)(D,{postsPerPage:d,totalPosts:n.length,paginate:function(e){return o(e)},className:"pagination-button"})}),Object(N.jsx)("div",{className:"container",children:b.map((function(e,t){return Object(N.jsx)("div",{children:Object(N.jsx)(A,{name:e.name,img:e.img.hdUrl,category:e.category})},t)}))})]})})},H=function(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)([]),a=Object(i.a)(r,2),o=a[0],j=a[1];return Object(c.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,fetch("https://coding-challenge-api.aerolab.co/user/history",{method:"GET",orderBy:"DESC",headers:b});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,j(n),s(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(N.jsx)("div",{children:Object(N.jsx)(F,{loading:n,history:o,showHistory:!0})})},_=(n(51),function(){return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"container-header",children:[Object(N.jsxs)(o.b,{to:"/",className:"boton-header",children:[" ","Home"]}),Object(N.jsx)(w,{})]}),Object(N.jsx)("div",{children:Object(N.jsx)(M,{})}),Object(N.jsx)("div",{children:Object(N.jsx)(H,{})})]})}),B=Object(c.createContext)();var G=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(""),a=Object(i.a)(r,2),d=a[0],l=a[1],u=Object(c.useState)([]),b=Object(i.a)(u,2),h=b[0],O=b[1],x=Object(c.useState)({category:""}),p=Object(i.a)(x,2),m=p[0],v=p[1];return Object(N.jsx)(B.Provider,{value:{userName:n,setUserName:s,userPoints:d,setUserPoints:l,productsList:h,setProductsList:O,category:m,setCategory:v},children:Object(N.jsx)(o.a,{children:Object(N.jsxs)(j.c,{children:[Object(N.jsx)(j.a,{path:"/",exact:!0,component:z}),Object(N.jsx)(j.a,{path:"/history",exact:!0,component:_})]})})})};a.a.render(Object(N.jsx)(s.a.StrictMode,{children:Object(N.jsx)(G,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.d397836b.chunk.js.map